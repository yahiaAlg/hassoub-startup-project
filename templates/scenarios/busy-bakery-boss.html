<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø®Ø¨Ø² Ø§Ù„ÙƒØ¹Ùƒ - Ù…Ù†ØµØ© Ø§Ù„ØªØ¹Ù„Ù… Ø§Ù„ØªØ¬Ø§Ø±ÙŠ Ù„Ù„Ø£Ø·ÙØ§Ù„</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            padding: 20px;
            direction: rtl;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            padding: 30px;
            text-align: center;
            color: white;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .back-button {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.2);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            text-decoration: none;
            transition: all 0.3s;
        }

        .back-button:hover {
            background: rgba(255,255,255,0.3);
        }

        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 3px solid #e9ecef;
        }

        .stat-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .stat-card .icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .stat-card .label {
            font-size: 0.9em;
            color: #6c757d;
            margin-bottom: 5px;
        }

        .stat-card .value {
            font-size: 1.5em;
            font-weight: bold;
            color: #495057;
        }

        .game-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 20px;
            padding: 20px;
        }

        .main-panel {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .occasion-card {
            background: linear-gradient(135deg, #FFD3A5 0%, #FD6585 100%);
            padding: 20px;
            border-radius: 15px;
            color: white;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .occasion-icon {
            font-size: 3em;
        }

        .occasion-info h3 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .section h2 {
            font-size: 1.5em;
            margin-bottom: 15px;
            color: #495057;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ingredient-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ingredient-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .ingredient-icon {
            font-size: 2em;
        }

        .ingredient-details h4 {
            font-size: 1.1em;
            color: #495057;
            margin-bottom: 5px;
        }

        .ingredient-price {
            font-size: 0.9em;
            color: #6c757d;
        }

        .ingredient-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2em;
            transition: all 0.3s;
            font-weight: bold;
        }

        .btn-secondary {
            background: #e9ecef;
            color: #495057;
        }

        .btn-secondary:hover {
            background: #dee2e6;
        }

        .btn-secondary:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .quantity {
            font-size: 1.2em;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
        }

        .recipe-builder {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .recipe-builder h3 {
            margin-bottom: 15px;
            color: #495057;
        }

        .flavor-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .flavor-btn {
            padding: 15px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .flavor-btn:hover {
            border-color: #f093fb;
            transform: translateY(-2px);
        }

        .flavor-btn.active {
            border-color: #f093fb;
            background: #fef5ff;
            font-weight: bold;
        }

        .flavor-icon {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .decoration-section {
            margin-top: 20px;
        }

        .decoration-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
        }

        .decoration-btn {
            padding: 12px;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 10px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s;
        }

        .decoration-btn:hover {
            border-color: #f5576c;
        }

        .decoration-btn.active {
            border-color: #f5576c;
            background: #fff5f7;
        }

        .decoration-icon {
            font-size: 1.8em;
        }

        .pricing-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .price-tiers {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .price-tier {
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .price-tier:hover {
            border-color: #f093fb;
        }

        .price-tier.active {
            border-color: #f093fb;
            background: #fef5ff;
        }

        .price-tier .tier-name {
            font-weight: bold;
            margin-bottom: 5px;
            color: #495057;
        }

        .price-tier .tier-price {
            font-size: 1.3em;
            color: #28a745;
            margin-bottom: 5px;
        }

        .price-tier .tier-desc {
            font-size: 0.8em;
            color: #6c757d;
        }

        .cost-summary {
            background: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .cost-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px solid #e9ecef;
        }

        .cost-row:last-child {
            border-bottom: none;
            font-weight: bold;
            font-size: 1.1em;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            flex: 1;
            padding: 15px;
            font-size: 1.2em;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(240, 147, 251, 0.4);
        }

        .btn-reset {
            background: #dc3545;
            color: white;
            padding: 15px 30px;
            font-size: 1.1em;
        }

        .btn-reset:hover {
            background: #c82333;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .event-card {
            background: #fff3cd;
            padding: 20px;
            border-radius: 15px;
            border-right: 5px solid #ffc107;
        }

        .event-card h3 {
            color: #856404;
            margin-bottom: 10px;
        }

        .tips-card {
            background: #d1ecf1;
            padding: 20px;
            border-radius: 15px;
        }

        .tips-card h3 {
            color: #0c5460;
            margin-bottom: 15px;
        }

        .tip-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .preview-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .cupcake-preview {
            font-size: 5em;
            margin: 20px 0;
        }

        .preview-details {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
        }

        .preview-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9em;
        }

        .inventory-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .inventory-item {
            background: white;
            padding: 10px;
            border-radius: 8px;
            text-align: center;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            animation: modalSlide 0.3s ease-out;
        }

        @keyframes modalSlide {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-content h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #495057;
        }

        .result-stat {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        @media (max-width: 768px) {
            .game-content {
                grid-template-columns: 1fr;
            }

            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .header h1 {
                font-size: 1.8em;
            }

            .back-button {
                position: static;
                transform: none;
                display: inline-block;
                margin-bottom: 10px;
            }

            .price-tiers {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <a href="#" class="back-button">ğŸ§ Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨ â†’</a>
            <h1>Ù…Ø®Ø¨Ø² Ø§Ù„ÙƒØ¹Ùƒ</h1>
        </div>

        <div class="stats-bar">
            <div class="stat-card">
                <div class="icon">ğŸ’µ</div>
                <div class="label">Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„</div>
                <div class="value" id="money">$75.00</div>
            </div>
            <div class="stat-card">
                <div class="icon">ğŸ“…</div>
                <div class="label">Ø§Ù„ÙŠÙˆÙ…</div>
                <div class="value" id="day">1</div>
            </div>
            <div class="stat-card">
                <div class="icon">ğŸ’°</div>
                <div class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø¨Ø­</div>
                <div class="value" id="totalProfit">$0.00</div>
            </div>
            <div class="stat-card">
                <div class="icon">ğŸ§</div>
                <div class="label">Ø§Ù„ÙƒØ¹Ùƒ Ø§Ù„Ù…Ø¨Ø§Ø¹</div>
                <div class="value" id="cupcakesSold">0</div>
            </div>
            <div class="stat-card">
                <div class="icon">â­</div>
                <div class="label">ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¬ÙˆØ¯Ø©</div>
                <div class="value" id="quality">5.0</div>
            </div>
        </div>

        <div class="game-content">
            <div class="main-panel">
                <div class="occasion-card">
                    <div class="occasion-icon" id="occasionIcon">ğŸ‰</div>
                    <div class="occasion-info">
                        <h3 id="occasionName">Ù…ÙˆØ³Ù… Ø§Ù„Ø§Ø­ØªÙØ§Ù„Ø§Øª</h3>
                        <p id="occasionDesc">Ø§Ù„Ù†Ø§Ø³ ÙŠØ·Ù„Ø¨ÙˆÙ† ÙƒØ¹Ùƒ Ù„Ù„Ø­ÙÙ„Ø§Øª!</p>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ›’ Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</h2>
                    
                    <div class="ingredient-item">
                        <div class="ingredient-info">
                            <div class="ingredient-icon">ğŸŒ¾</div>
                            <div class="ingredient-details">
                                <h4>Ø¯Ù‚ÙŠÙ‚</h4>
                                <p class="ingredient-price">$1.00 Ù„ÙƒÙ„ ÙƒÙŠØ³</p>
                            </div>
                        </div>
                        <div class="ingredient-controls">
                            <button class="btn btn-secondary" onclick="changeIngredient('flour', -1)">-</button>
                            <span class="quantity" id="flour">0</span>
                            <button class="btn btn-secondary" onclick="changeIngredient('flour', 1)">+</button>
                        </div>
                    </div>

                    <div class="ingredient-item">
                        <div class="ingredient-info">
                            <div class="ingredient-icon">ğŸ¥š</div>
                            <div class="ingredient-details">
                                <h4>Ø¨ÙŠØ¶</h4>
                                <p class="ingredient-price">$0.80 Ù„ÙƒÙ„ Ø¹Ø¨ÙˆØ©</p>
                            </div>
                        </div>
                        <div class="ingredient-controls">
                            <button class="btn btn-secondary" onclick="changeIngredient('eggs', -1)">-</button>
                            <span class="quantity" id="eggs">0</span>
                            <button class="btn btn-secondary" onclick="changeIngredient('eggs', 1)">+</button>
                        </div>
                    </div>

                    <div class="ingredient-item">
                        <div class="ingredient-info">
                            <div class="ingredient-icon">ğŸ§ˆ</div>
                            <div class="ingredient-details">
                                <h4>Ø²Ø¨Ø¯Ø©</h4>
                                <p class="ingredient-price">$1.20 Ù„ÙƒÙ„ Ø¹Ù„Ø¨Ø©</p>
                            </div>
                        </div>
                        <div class="ingredient-controls">
                            <button class="btn btn-secondary" onclick="changeIngredient('butter', -1)">-</button>
                            <span class="quantity" id="butter">0</span>
                            <button class="btn btn-secondary" onclick="changeIngredient('butter', 1)">+</button>
                        </div>
                    </div>

                    <div class="ingredient-item">
                        <div class="ingredient-info">
                            <div class="ingredient-icon">ğŸ¬</div>
                            <div class="ingredient-details">
                                <h4>Ø³ÙƒØ±</h4>
                                <p class="ingredient-price">$0.60 Ù„ÙƒÙ„ ÙƒÙŠØ³</p>
                            </div>
                        </div>
                        <div class="ingredient-controls">
                            <button class="btn btn-secondary" onclick="changeIngredient('sugar', -1)">-</button>
                            <span class="quantity" id="sugar">0</span>
                            <button class="btn btn-secondary" onclick="changeIngredient('sugar', 1)">+</button>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ‘¨â€ğŸ³ ØµÙ…Ù… Ø§Ù„ÙƒØ¹Ùƒ</h2>
                    <div class="recipe-builder">
                        <h3>Ø§Ø®ØªØ± Ø§Ù„Ù†ÙƒÙ‡Ø©</h3>
                        <div class="flavor-grid">
                            <button class="flavor-btn active" data-flavor="vanilla" onclick="selectFlavor(this)">
                                <div class="flavor-icon">ğŸ¦</div>
                                <div>ÙØ§Ù†ÙŠÙ„ÙŠØ§</div>
                            </button>
                            <button class="flavor-btn" data-flavor="chocolate" onclick="selectFlavor(this)">
                                <div class="flavor-icon">ğŸ«</div>
                                <div>Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©</div>
                            </button>
                            <button class="flavor-btn" data-flavor="strawberry" onclick="selectFlavor(this)">
                                <div class="flavor-icon">ğŸ“</div>
                                <div>ÙØ±Ø§ÙˆÙ„Ø©</div>
                            </button>
                            <button class="flavor-btn" data-flavor="lemon" onclick="selectFlavor(this)">
                                <div class="flavor-icon">ğŸ‹</div>
                                <div>Ù„ÙŠÙ…ÙˆÙ†</div>
                            </button>
                        </div>

                        <div class="decoration-section">
                            <h3>Ø§Ø®ØªØ± Ø§Ù„Ø²ÙŠÙ†Ø©</h3>
                            <div class="decoration-grid">
                                <button class="decoration-btn active" data-decoration="sprinkles" onclick="selectDecoration(this)">
                                    <div class="decoration-icon">âœ¨</div>
                                    <div style="font-size: 0.8em;">Ø±Ø´Ø§Øª</div>
                                </button>
                                <button class="decoration-btn" data-decoration="cream" onclick="selectDecoration(this)">
                                    <div class="decoration-icon">ğŸ°</div>
                                    <div style="font-size: 0.8em;">ÙƒØ±ÙŠÙ…Ø©</div>
                                </button>
                                <button class="decoration-btn" data-decoration="fruits" onclick="selectDecoration(this)">
                                    <div class="decoration-icon">ğŸ’</div>
                                    <div style="font-size: 0.8em;">ÙÙˆØ§ÙƒÙ‡</div>
                                </button>
                                <button class="decoration-btn" data-decoration="chocolate" onclick="selectDecoration(this)">
                                    <div class="decoration-icon">ğŸ«</div>
                                    <div style="font-size: 0.8em;">Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©</div>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="section">
                    <h2>ğŸ’µ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØªØ³Ø¹ÙŠØ±</h2>
                    <div class="pricing-section">
                        <p style="color: #6c757d; margin-bottom: 10px;">Ø§Ø®ØªØ± ÙØ¦Ø© Ø§Ù„Ø³Ø¹Ø± Ø­Ø³Ø¨ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù…Ù†ØªØ¬</p>
                        <div class="price-tiers">
                            <div class="price-tier" data-tier="budget" onclick="selectPriceTier(this)">
                                <div class="tier-name">Ø§Ù‚ØªØµØ§Ø¯ÙŠ</div>
                                <div class="tier-price">$2.00</div>
                                <div class="tier-desc">Ø¬ÙˆØ¯Ø© Ø¹Ø§Ø¯ÙŠØ©</div>
                            </div>
                            <div class="price-tier active" data-tier="standard" onclick="selectPriceTier(this)">
                                <div class="tier-name">Ù‚ÙŠØ§Ø³ÙŠ</div>
                                <div class="tier-price">$3.50</div>
                                <div class="tier-desc">Ø¬ÙˆØ¯Ø© Ø¬ÙŠØ¯Ø©</div>
                            </div>
                            <div class="price-tier" data-tier="premium" onclick="selectPriceTier(this)">
                                <div class="tier-name">ÙØ§Ø®Ø±</div>
                                <div class="tier-price">$5.00</div>
                                <div class="tier-desc">Ø¬ÙˆØ¯Ø© Ù…Ù…ØªØ§Ø²Ø©</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="cost-summary">
                    <div class="cost-row">
                        <span>ØªÙƒÙ„ÙØ© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª</span>
                        <span id="ingredientCost">$0.00</span>
                    </div>
                    <div class="cost-row">
                        <span>Ø¹Ø¯Ø¯ Ø§Ù„ÙƒØ¹Ùƒ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span>
                        <span id="expectedCupcakes">0</span>
                    </div>
                    <div class="cost-row">
                        <span>ØªÙƒÙ„ÙØ© Ø§Ù„ÙˆØ­Ø¯Ø©</span>
                        <span id="unitCost">$0.00</span>
                    </div>
                    <div class="cost-row">
                        <span>Ø±Ø£Ø³ Ø§Ù„Ù…Ø§Ù„ Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</span>
                        <span id="remainingMoney">$75.00</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-reset" onclick="resetDay()">â†º Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
                    <button class="btn btn-primary" onclick="startBaking()">ğŸ”¥ Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø®Ø¨Ø²!</button>
                </div>
            </div>

            <div class="sidebar">
                <div class="event-card">
                    <h3>ğŸ“¢ Ø­Ø¯Ø« Ø§Ù„ÙŠÙˆÙ…</h3>
                    <h4 id="eventTitle">Ù…ÙˆØ³Ù… Ø§Ù„Ø­ÙÙ„Ø§Øª!</h4>
                    <p id="eventDesc">Ù‡Ù†Ø§Ùƒ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­ÙÙ„Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹. Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ¹Ùƒ Ù…Ø±ØªÙØ¹!</p>
                </div>

                <div class="preview-card">
                    <h3 style="margin-bottom: 15px;">ğŸ‘€ Ù…Ø¹Ø§ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ØªØ¬</h3>
                    <div class="cupcake-preview" id="cupcakePreview">ğŸ§</div>
                    <div class="preview-details">
                        <div class="preview-row">
                            <span>Ø§Ù„Ù†ÙƒÙ‡Ø©:</span>
                            <strong id="previewFlavor">ÙØ§Ù†ÙŠÙ„ÙŠØ§</strong>
                        </div>
                        <div class="preview-row">
                            <span>Ø§Ù„Ø²ÙŠÙ†Ø©:</span>
                            <strong id="previewDecoration">Ø±Ø´Ø§Øª</strong>
                        </div>
                        <div class="preview-row">
                            <span>Ø§Ù„Ø³Ø¹Ø±:</span>
                            <strong id="previewPrice" style="color: #28a745;">$3.50</strong>
                        </div>
                    </div>
                </div>

                <div class="tips-card">
                    <h3>ğŸ’¡ Ù†ØµØ§Ø¦Ø­ Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h3>
                    <div class="tip-item">ğŸ§ Ø§Ù„Ù†ÙƒÙ‡Ø§Øª Ø§Ù„Ù…Ù…ÙŠØ²Ø© ØªØ¬Ø°Ø¨ Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø²Ø¨Ø§Ø¦Ù†!</div>
                    <div class="tip-item">âœ¨ Ø§Ù„Ø²ÙŠÙ†Ø© Ø§Ù„Ø¬Ù…ÙŠÙ„Ø© ØªØ²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ù…Ù†Ø§Ø³Ø¨.</div>
                    <div class="tip-item">ğŸ’° Ù„Ø§ ØªØ¨Ø§Ù„Øº ÙÙŠ Ø§Ù„Ø³Ø¹Ø± Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„Ø¬ÙˆØ¯Ø©.</div>
                    <div class="tip-item">ğŸ“Š Ø§Ø´ØªØ± Ù…ÙƒÙˆÙ†Ø§Øª ÙƒØ§ÙÙŠØ© Ù„ÙƒÙ† Ù„Ø§ ØªØ³Ø±Ù!</div>
                    <div class="tip-item">ğŸ¯ Ø§Ø®ØªØ± Ø§Ù„Ù†ÙƒÙ‡Ø© Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©.</div>
                </div>

                <div class="section">
                    <h2>ğŸ“¦ Ø§Ù„Ù…Ø®Ø²ÙˆÙ†</h2>
                    <div class="inventory-grid" id="inventoryDisplay">
                        <p style="grid-column: 1/-1; text-align: center; color: #6c757d;">Ø§Ø´ØªØ± Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù„Ø±Ø¤ÙŠØ© Ù…Ø®Ø²ÙˆÙ†Ùƒ</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="resultModal">
        <div class="modal-content">
            <h2>ğŸ‰ Ø§Ù„ÙŠÙˆÙ… Ù…ÙƒØªÙ…Ù„!</h2>
            <div class="result-stat">
                <span>Ø§Ù„ÙƒØ¹Ùƒ Ø§Ù„Ù…Ø¨Ø§Ø¹</span>
                <strong id="resultCupcakes">0</strong>
            </div>
            <div class="result-stat">
                <span>Ø§Ù„Ø¥ÙŠØ±Ø§Ø¯Ø§Øª</span>
                <strong id="resultRevenue">$0.00</strong>
            </div>
            <div class="result-stat">
                <span>Ø§Ù„Ù…ØµØ±ÙˆÙØ§Øª</span>
                <strong id="resultExpenses">$0.00</strong>
            </div>
            <div class="result-stat">
                <span>Ø§Ù„Ø±Ø¨Ø­ Ø§Ù„ØµØ§ÙÙŠ</span>
                <strong id="resultProfit" style="color: #28a745;">$0.00</strong>
            </div>
            <div class="result-stat">
                <span>ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡</span>
                <strong id="resultRating">â­â­â­â­â­</strong>
            </div>
            <div class="action-buttons" style="margin-top: 20px;">
                <button class="btn btn-reset" onclick="endGame()">ğŸ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
                <button class="btn btn-primary" onclick="nextDay()">â† Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ</button>
            </div>
        </div>
    </div>

    <script>
        const gameState = {
            money: 75,
            day: 1,
            totalProfit: 0,
            totalCupcakesSold: 0,
            quality: 5.0,
            ingredients: {
                flour: 0,
                eggs: 0,
                butter: 0,
                sugar: 0
            },
            inventory: {
                flour: 0,
                eggs: 0,
                butter: 0,
                sugar: 0
            },
            flavor: 'vanilla',
            decoration: 'sprinkles',
            priceTier: 'standard',
            occasion: null
        };

        const ingredientPrices = {
            flour: 1.00,
            eggs: 0.80,
            butter: 1.20,
            sugar: 0.60
        };

        const priceTiers = {
            budget: { price: 2.00, quality: 0.7 },
            standard: { price: 3.50, quality: 1.0 },
            premium: { price: 5.00, quality: 1.3 }
        };

        const flavorNames = {
            vanilla: 'ÙØ§Ù†ÙŠÙ„ÙŠØ§',
            chocolate: 'Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©',
            strawberry: 'ÙØ±Ø§ÙˆÙ„Ø©',
            lemon: 'Ù„ÙŠÙ…ÙˆÙ†'
        };

        const decorationNames = {
            sprinkles: 'Ø±Ø´Ø§Øª',
            cream: 'ÙƒØ±ÙŠÙ…Ø©',
            fruits: 'ÙÙˆØ§ÙƒÙ‡',
            chocolate: 'Ø´ÙˆÙƒÙˆÙ„Ø§ØªØ©'
        };

        const occasions = [
            { icon: 'ğŸ‰', name: 'Ù…ÙˆØ³Ù… Ø§Ù„Ø­ÙÙ„Ø§Øª', desc: 'Ù‡Ù†Ø§Ùƒ Ø§Ù„Ø¹Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ø­ÙÙ„Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹. Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ¹Ùƒ Ù…Ø±ØªÙØ¹!', multiplier: 1.5 },
            { icon: 'ğŸ’’', name: 'Ù…ÙˆØ³Ù… Ø§Ù„Ø£Ø¹Ø±Ø§Ø³', desc: 'Ø§Ù„ÙƒØ«ÙŠØ± Ù…Ù† Ø­ÙÙ„Ø§Øª Ø§Ù„Ø²ÙØ§Ù. Ø§Ù„Ù†Ø§Ø³ ÙŠØ¨Ø­Ø«ÙˆÙ† Ø¹Ù† ÙƒØ¹Ùƒ ÙØ§Ø®Ø±!', multiplier: 1.3 },
            { icon: 'ğŸ‚', name: 'Ø£Ø¹ÙŠØ§Ø¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯', desc: 'Ù…ÙˆØ³Ù… Ø£Ø¹ÙŠØ§Ø¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯. Ø·Ù„Ø¨ Ù…Ø³ØªÙ…Ø± Ø¹Ù„Ù‰ Ø§Ù„ÙƒØ¹Ùƒ!', multiplier: 1.2 },
            { icon: 'ğŸ“', name: 'Ø­ÙÙ„Ø§Øª Ø§Ù„ØªØ®Ø±Ø¬', desc: 'Ù…ÙˆØ³Ù… Ø§Ù„ØªØ®Ø±Ø¬. Ø§Ù„Ø¹Ø§Ø¦Ù„Ø§Øª ØªØ­ØªÙÙ„!', multiplier: 1.4 }
        ];

        function initGame() {
            setRandomOccasion();
            updateDisplay();
            updatePreview();
        }

        function setRandomOccasion() {
            gameState.occasion = occasions[Math.floor(Math.random() * occasions.length)];
            document.getElementById('occasionIcon').textContent = gameState.occasion.icon;
            document.getElementById('occasionName').textContent = gameState.occasion.name;
            document.getElementById('occasionDesc').textContent = gameState.occasion.desc;
        }

        function changeIngredient(type, amount) {
            const newAmount = gameState.ingredients[type] + amount;
            if (newAmount >= 0) {
                const costDiff = amount * ingredientPrices[type];
                if (gameState.money >= costDiff || amount < 0) {
                    gameState.ingredients[type] = newAmount;
                    updateDisplay();
                }
            }
        }

        function selectFlavor(btn) {
            document.querySelectorAll('.flavor-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            gameState.flavor = btn.dataset.flavor;
            updatePreview();
        }

        function selectDecoration(btn) {
            document.querySelectorAll('.decoration-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            gameState.decoration = btn.dataset.decoration;
            updatePreview();
        }

        function selectPriceTier(tier) {
            document.querySelectorAll('.price-tier').forEach(t => t.classList.remove('active'));
            tier.classList.add('active');
            gameState.priceTier = tier.dataset.tier;
            updatePreview();
        }

        function calculateIngredientCost() {
            let total = 0;
            for (let type in gameState.ingredients) {
                total += gameState.ingredients[type] * ingredientPrices[type];
            }
            return total;
        }

        function calculateExpectedCupcakes() {
            if (gameState.ingredients.flour === 0) return 0;
            return Math.min(
                gameState.ingredients.flour * 12,
                gameState.ingredients.eggs * 12,
                gameState.ingredients.butter * 12,
                gameState.ingredients.sugar * 12
            );
        }

        function updateDisplay() {
            document.getElementById('money').textContent = '$' + gameState.money.toFixed(2);
            document.getElementById('day').textContent = gameState.day;
            document.getElementById('totalProfit').textContent = '$' + gameState.totalProfit.toFixed(2);
            document.getElementById('cupcakesSold').textContent = gameState.totalCupcakesSold;
            document.getElementById('quality').textContent = gameState.quality.toFixed(1);

            for (let type in gameState.ingredients) {
                document.getElementById(type).textContent = gameState.ingredients[type];
            }

            const ingredientCost = calculateIngredientCost();
            const expectedCupcakes = calculateExpectedCupcakes();
            const unitCost = expectedCupcakes > 0 ? ingredientCost / expectedCupcakes : 0;

            document.getElementById('ingredientCost').textContent = '$' + ingredientCost.toFixed(2);
            document.getElementById('expectedCupcakes').textContent = expectedCupcakes;
            document.getElementById('unitCost').textContent = '$' + unitCost.toFixed(2);
            document.getElementById('remainingMoney').textContent = '$' + (gameState.money - ingredientCost).toFixed(2);

            updateInventoryDisplay();
        }

        function updatePreview() {
            document.getElementById('previewFlavor').textContent = flavorNames[gameState.flavor];
            document.getElementById('previewDecoration').textContent = decorationNames[gameState.decoration];
            document.getElementById('previewPrice').textContent = '$' + priceTiers[gameState.priceTier].price.toFixed(2);
        }

        function updateInventoryDisplay() {
            const container = document.getElementById('inventoryDisplay');
            const hasInventory = Object.values(gameState.inventory).some(v => v > 0);

            if (!hasInventory) {
                container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #6c757d;">Ø§Ø´ØªØ± Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ù„Ø±Ø¤ÙŠØ© Ù…Ø®Ø²ÙˆÙ†Ùƒ</p>';
                return;
            }

            const icons = { flour: 'ğŸŒ¾', eggs: 'ğŸ¥š', butter: 'ğŸ§ˆ', sugar: 'ğŸ¬' };
            const names = { flour: 'Ø¯Ù‚ÙŠÙ‚', eggs: 'Ø¨ÙŠØ¶', butter: 'Ø²Ø¨Ø¯Ø©', sugar: 'Ø³ÙƒØ±' };

            container.innerHTML = '';
            for (let type in gameState.inventory) {
                if (gameState.inventory[type] > 0) {
                    const div = document.createElement('div');
                    div.className = 'inventory-item';
                    div.innerHTML = `
                        <div style="font-size: 1.5em;">${icons[type]}</div>
                        <div style="font-size: 0.9em; color: #6c757d;">${names[type]}</div>
                        <div style="font-weight: bold;">${gameState.inventory[type]}</div>
                    `;
                    container.appendChild(div);
                }
            }
        }

        function startBaking() {
            const ingredientCost = calculateIngredientCost();

            if (ingredientCost > gameState.money) {
                alert('Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ù†Ù‚ÙˆØ¯ ÙƒØ§ÙÙŠØ©!');
                return;
            }

            if (calculateExpectedCupcakes() === 0) {
                alert('ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ø´Ø±Ø§Ø¡ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø£ÙˆÙ„Ø§Ù‹!');
                return;
            }

            // Deduct money and add to inventory
            gameState.money -= ingredientCost;
            for (let type in gameState.ingredients) {
                gameState.inventory[type] += gameState.ingredients[type];
                gameState.ingredients[type] = 0;
            }

            simulateSales();
        }

        function simulateSales() {
            const cupcakesMade = calculateExpectedCupcakes();
            const price = priceTiers[gameState.priceTier].price;
            const qualityMod = priceTiers[gameState.priceTier].quality;

            // Calculate demand
            let demandMod = 1.0;
            demandMod *= gameState.occasion.multiplier;

            // Flavor popularity
            const flavorPop = {
                vanilla: 1.2,
                chocolate: 1.3,
                strawberry: 1.1,
                lemon: 0.9
            };
            demandMod *= flavorPop[gameState.flavor];

            // Decoration appeal
            const decorationAppeal = {
                sprinkles: 1.0,
                cream: 1.2,
                fruits: 1.3,
                chocolate: 1.1
            };
            demandMod *= decorationAppeal[gameState.decoration];

            // Price sensitivity
            if (gameState.priceTier === 'budget') demandMod *= 1.3;
            else if (gameState.priceTier === 'premium') demandMod *= 0.8;

            demandMod *= (gameState.quality / 5.0);

            const soldPercentage = Math.min(0.95, 0.6 + (demandMod * 0.2) + (Math.random() * 0.2));
            const cupcakesSold = Math.floor(cupcakesMade * soldPercentage);

            const revenue = cupcakesSold * price;
            const expenses = calculateIngredientCost();
            const profit = revenue - expenses;

            // Update inventory
            const usedPerCupcake = cupcakesMade / Math.min(
                gameState.inventory.flour * 12,
                gameState.inventory.eggs * 12,
                gameState.inventory.butter * 12,
                gameState.inventory.sugar * 12
            );

            for (let type in gameState.inventory) {
                gameState.inventory[type] = Math.max(0, gameState.inventory[type] - Math.ceil(cupcakesSold * usedPerCupcake / 12));
            }

            // Update stats
            gameState.money += revenue;
            gameState.totalCupcakesSold += cupcakesSold;
            gameState.totalProfit += profit;

            // Update quality rating
            if (qualityMod > 1.1 && soldPercentage > 0.8) {
                gameState.quality = Math.min(5.0, gameState.quality + 0.2);
            } else if (qualityMod < 0.8 || soldPercentage < 0.5) {
                gameState.quality = Math.max(3.0, gameState.quality - 0.2);
            }

            showResults(cupcakesSold, revenue, expenses, profit);
        }

        function showResults(sold, revenue, expenses, profit) {
            document.getElementById('resultCupcakes').textContent = sold;
            document.getElementById('resultRevenue').textContent = '$' + revenue.toFixed(2);
            document.getElementById('resultExpenses').textContent = '$' + expenses.toFixed(2);
            document.getElementById('resultProfit').textContent = '$' + profit.toFixed(2);

            const stars = 'â­'.repeat(Math.round(gameState.quality));
            document.getElementById('resultRating').textContent = stars;

            const profitElement = document.getElementById('resultProfit');
            profitElement.style.color = profit >= 0 ? '#28a745' : '#dc3545';

            document.getElementById('resultModal').classList.add('active');
        }

        function nextDay() {
            gameState.day++;
            setRandomOccasion();
            document.getElementById('resultModal').classList.remove('active');
            
            // Reset selections to default
            document.querySelectorAll('.flavor-btn').forEach(b => b.classList.remove('active'));
            document.querySelector('[data-flavor="vanilla"]').classList.add('active');
            
            document.querySelectorAll('.decoration-btn').forEach(b => b.classList.remove('active'));
            document.querySelector('[data-decoration="sprinkles"]').classList.add('active');
            
            document.querySelectorAll('.price-tier').forEach(t => t.classList.remove('active'));
            document.querySelector('[data-tier="standard"]').classList.add('active');
            
            gameState.flavor = 'vanilla';
            gameState.decoration = 'sprinkles';
            gameState.priceTier = 'standard';
            
            updateDisplay();
            updatePreview();
        }

        function resetDay() {
            for (let type in gameState.ingredients) {
                gameState.ingredients[type] = 0;
            }
            updateDisplay();
        }

        function endGame() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©ØŸ')) {
                alert(`Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù†ØªÙ‡Øª!\n\nØ§Ù„Ø£ÙŠØ§Ù…: ${gameState.day}\nØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø±Ø¨Ø­: $${gameState.totalProfit.toFixed(2)}\nØ§Ù„ÙƒØ¹Ùƒ Ø§Ù„Ù…Ø¨Ø§Ø¹: ${gameState.totalCupcakesSold}\nØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¬ÙˆØ¯Ø©: ${gameState.quality.toFixed(1)}/5.0`);
                location.reload();
            }
        }

        initGame();
    </script>
</body>
</html>