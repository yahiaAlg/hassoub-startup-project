<!DOCTYPE html>
<html lang="en">
  <head>
    <meta name="x-poe-datastore-behavior" content="local_only" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;"
    />
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Busy Bakery Boss - BizKids Learning Platform</title>
    <link rel="stylesheet" href="busy-bakery-boss.css" />
    <script src="https://puc.poecdn.net/authenticated_preview_page/syncedState.3f7572448765332f3047.js"></script>
  </head>
  <body>
    <!-- Game Header -->
    <header class="game-header">
      <div class="header-content">
        <div class="game-title">
          <span style="font-size: 2.5rem">ğŸ§</span>
          <h1>Busy Bakery Boss</h1>
        </div>
        <a href="games.html" class="back-link">
          <span>â†</span>
          <span>Back to Games</span>
        </a>
      </div>
    </header>

    <!-- Stats Bar -->
    <div class="stats-bar">
      <div class="stats-container">
        <div class="stat-item">
          <div class="stat-label">Cash</div>
          <div class="stat-value">
            <span>ğŸ’µ</span>
            <span id="cashDisplay">$150.00</span>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Day</div>
          <div class="stat-value">
            <span>ğŸ“…</span>
            <span id="dayDisplay">1/7</span>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Total Profit</div>
          <div class="stat-value">
            <span>ğŸ’°</span>
            <span id="profitDisplay">$0.00</span>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Items Sold</div>
          <div class="stat-value">
            <span>ğŸ‚</span>
            <span id="itemsSoldDisplay">0</span>
          </div>
        </div>
        <div class="stat-item">
          <div class="stat-label">Customer Rating</div>
          <div class="stat-value">
            <span>â­</span>
            <span id="ratingDisplay">5.0</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
      <!-- Steps Indicator -->
      <div class="steps-indicator">
        <div class="step-item active" id="step1Indicator">
          <div class="step-number">1</div>
          <div class="step-text">Choose Recipes</div>
        </div>
        <div class="step-connector"></div>
        <div class="step-item" id="step2Indicator">
          <div class="step-number">2</div>
          <div class="step-text">Set Production</div>
        </div>
        <div class="step-connector"></div>
        <div class="step-item" id="step3Indicator">
          <div class="step-number">3</div>
          <div class="step-text">Choose Quality</div>
        </div>
        <div class="step-connector"></div>
        <div class="step-item" id="step4Indicator">
          <div class="step-number">4</div>
          <div class="step-text">Set Prices</div>
        </div>
        <div class="step-connector"></div>
        <div class="step-item" id="step5Indicator">
          <div class="step-number">5</div>
          <div class="step-text">Discount Strategy</div>
        </div>
        <div class="step-connector"></div>
        <div class="step-item" id="step6Indicator">
          <div class="step-number">6</div>
          <div class="step-text">Schedule</div>
        </div>
      </div>

      <!-- Step 1: Choose Recipes -->
      <div id="step1" class="game-panel">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ° Choose Your Recipes</h2>
          <p class="panel-description">
            Select 1-3 products to bake and sell. Each has different costs,
            shelf life, and appeal!
          </p>
        </div>

        <div class="products-grid">
          <div class="product-card" onclick="toggleProduct('cupcakes')">
            <div class="product-icon">ğŸ§</div>
            <div class="product-name">Cupcakes</div>
            <div class="product-stats">
              <div class="product-stat">
                <span class="stat-name">Cost:</span>
                <span class="stat-value">$0.75 each</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Baking Time:</span>
                <span class="stat-value">30 min/batch (12)</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Shelf Life:</span>
                <span class="stat-value">2 days</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Appeal:</span>
                <span class="stat-value">â­â­â­â­â­</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Suggested Price:</span>
                <span class="stat-value">$3.00 - $4.00</span>
              </div>
            </div>
          </div>

          <div class="product-card" onclick="toggleProduct('cookies')">
            <div class="product-icon">ğŸª</div>
            <div class="product-name">Cookies</div>
            <div class="product-stats">
              <div class="product-stat">
                <span class="stat-name">Cost:</span>
                <span class="stat-value">$0.40 each</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Baking Time:</span>
                <span class="stat-value">20 min/batch (24)</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Shelf Life:</span>
                <span class="stat-value">4 days</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Appeal:</span>
                <span class="stat-value">â­â­â­â­</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Suggested Price:</span>
                <span class="stat-value">$1.50 - $2.50</span>
              </div>
            </div>
          </div>

          <div class="product-card" onclick="toggleProduct('bread')">
            <div class="product-icon">ğŸ</div>
            <div class="product-name">Artisan Bread</div>
            <div class="product-stats">
              <div class="product-stat">
                <span class="stat-name">Cost:</span>
                <span class="stat-value">$2.00 each</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Baking Time:</span>
                <span class="stat-value">90 min/batch (6)</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Shelf Life:</span>
                <span class="stat-value">1 day</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Appeal:</span>
                <span class="stat-value">â­â­â­</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Suggested Price:</span>
                <span class="stat-value">$7.00 - $9.00</span>
              </div>
            </div>
          </div>

          <div class="product-card" onclick="toggleProduct('brownies')">
            <div class="product-icon">ğŸŸ«</div>
            <div class="product-name">Brownies</div>
            <div class="product-stats">
              <div class="product-stat">
                <span class="stat-name">Cost:</span>
                <span class="stat-value">$1.20 each</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Baking Time:</span>
                <span class="stat-value">40 min/batch (16)</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Shelf Life:</span>
                <span class="stat-value">3 days</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Appeal:</span>
                <span class="stat-value">â­â­â­â­</span>
              </div>
              <div class="product-stat">
                <span class="stat-name">Suggested Price:</span>
                <span class="stat-value">$3.50 - $5.00</span>
              </div>
            </div>
          </div>
        </div>

        <div class="education-note">
          <div class="education-note-icon">ğŸ’¡</div>
          <div>
            <strong>Business Tip:</strong> Different products have different
            costs, times, and freshness windows! Choose a mix that balances
            profit potential with your time and budget.
          </div>
        </div>

        <div class="action-buttons">
          <button
            class="btn btn-primary"
            onclick="goToStep(2)"
            id="step1NextBtn"
            disabled=""
          >
            <span>Continue</span>
            <span>â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 2: Set Production -->
      <div id="step2" class="game-panel hidden">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ“Š Plan Your Production</h2>
          <p class="panel-description">
            How many of each item will you bake today? Watch your time and
            budget!
          </p>
        </div>

        <div class="production-grid" id="productionGrid">
          <!-- Production items will be added dynamically -->
        </div>

        <div class="constraints-panel">
          <div class="constraint-item">
            <span class="constraint-label">ğŸ• Baking Time:</span>
            <div class="constraint-bar">
              <div class="constraint-fill" id="timeBar" style="width: 0%"></div>
            </div>
            <span class="constraint-value" id="timeUsed">0 / 360 min</span>
          </div>
          <div class="constraint-item">
            <span class="constraint-label">ğŸ’µ Cost:</span>
            <div class="constraint-bar">
              <div class="constraint-fill" id="costBar" style="width: 0%"></div>
            </div>
            <span class="constraint-value" id="costUsed">$0.00 / $150.00</span>
          </div>
        </div>

        <div class="education-note">
          <div class="education-note-icon">ğŸ’¡</div>
          <div>
            <strong>Production Planning:</strong> Make too little and you'll
            miss sales. Make too much and you'll waste ingredients. Find the
            right balance!
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn btn-secondary" onclick="goToStep(1)">
            <span>â†</span>
            <span>Back</span>
          </button>
          <button
            class="btn btn-primary"
            onclick="goToStep(3)"
            id="step2NextBtn"
            disabled=""
          >
            <span>Continue</span>
            <span>â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 3: Choose Quality -->
      <div id="step3" class="game-panel hidden">
        <div class="panel-header">
          <h2 class="panel-title">âœ¨ Choose Ingredient Quality</h2>
          <p class="panel-description">
            Better ingredients cost more but can justify higher prices and build
            loyalty!
          </p>
        </div>

        <div class="quality-options">
          <div class="quality-card" onclick="selectQuality('standard')">
            <div class="quality-icon">ğŸ¥„</div>
            <div class="quality-name">Standard</div>
            <div class="quality-modifier">Base Cost</div>
            <ul class="quality-benefits">
              <li>Normal taste</li>
              <li>Standard customer satisfaction</li>
              <li>Good for budget-conscious</li>
            </ul>
          </div>

          <div class="quality-card" onclick="selectQuality('organic')">
            <div class="quality-icon">ğŸŒ¿</div>
            <div class="quality-name">Organic</div>
            <div class="quality-modifier">+50% Cost</div>
            <ul class="quality-benefits">
              <li>Premium organic taste</li>
              <li>"Organic" marketing appeal</li>
              <li>+30% price tolerance</li>
              <li>Attracts health-conscious customers</li>
            </ul>
          </div>

          <div class="quality-card" onclick="selectQuality('premium')">
            <div class="quality-icon">ğŸ‘¨â€ğŸ³</div>
            <div class="quality-name">Premium</div>
            <div class="quality-modifier">+40% Cost</div>
            <ul class="quality-benefits">
              <li>Excellent gourmet taste</li>
              <li>"Gourmet" brand appeal</li>
              <li>+25% price tolerance</li>
              <li>Word-of-mouth bonus</li>
            </ul>
          </div>
        </div>

        <div class="education-note">
          <div class="education-note-icon">ğŸ’¡</div>
          <div>
            <strong>Quality Matters:</strong> Better ingredients cost more but
            let you charge higher prices. Calculate if the premium is worth it
            for your strategy!
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn btn-secondary" onclick="goToStep(2)">
            <span>â†</span>
            <span>Back</span>
          </button>
          <button
            class="btn btn-primary"
            onclick="goToStep(4)"
            id="step3NextBtn"
            disabled=""
          >
            <span>Continue</span>
            <span>â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 4: Set Prices -->
      <div id="step4" class="game-panel hidden">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ’° Set Your Prices</h2>
          <p class="panel-description">
            Find the sweet spot - not too high, not too low!
          </p>
        </div>

        <div class="pricing-grid" id="pricingGrid">
          <!-- Pricing items will be added dynamically -->
        </div>

        <div class="education-note">
          <div class="education-note-icon">ğŸ’¡</div>
          <div>
            <strong>Pricing Strategy:</strong> Higher prices mean more profit
            per sale, but fewer customers. Lower prices attract more buyers but
            reduce margins. Watch the indicators!
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn btn-secondary" onclick="goToStep(3)">
            <span>â†</span>
            <span>Back</span>
          </button>
          <button class="btn btn-primary" onclick="goToStep(5)">
            <span>Continue</span>
            <span>â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 5: Discount Strategy -->
      <div id="step5" class="game-panel hidden">
        <div class="panel-header">
          <h2 class="panel-title">ğŸ·ï¸ Day-Old Discount Strategy</h2>
          <p class="panel-description">
            How will you handle items that don't sell on the first day?
          </p>
        </div>

        <div class="discount-options">
          <div class="discount-card" onclick="selectDiscount('throwaway')">
            <div class="discount-icon">ğŸ—‘ï¸</div>
            <div class="discount-name">Throw Away</div>
            <div class="discount-effect">
              Maintain premium brand image<br />0% recovery
            </div>
          </div>

          <div class="discount-card" onclick="selectDiscount('half')">
            <div class="discount-icon">ğŸ’µ</div>
            <div class="discount-name">50% Off</div>
            <div class="discount-effect">
              Move most inventory<br />~70% recovery rate
            </div>
          </div>

          <div class="discount-card" onclick="selectDiscount('clearance')">
            <div class="discount-icon">ğŸ”¥</div>
            <div class="discount-name">75% Off</div>
            <div class="discount-effect">
              Clear all inventory<br />~90% recovery rate
            </div>
          </div>

          <div class="discount-card" onclick="selectDiscount('donate')">
            <div class="discount-icon">â¤ï¸</div>
            <div class="discount-name">Donate</div>
            <div class="discount-effect">
              No revenue but<br />+20% customer loyalty tomorrow
            </div>
          </div>
        </div>

        <div class="education-note">
          <div class="education-note-icon">ğŸ’¡</div>
          <div>
            <strong>Freshness Management:</strong> Fresh food has a shelf life.
            Discounting saves some revenue from waste, but affects your brand.
            Choose wisely!
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn btn-secondary" onclick="goToStep(4)">
            <span>â†</span>
            <span>Back</span>
          </button>
          <button
            class="btn btn-primary"
            onclick="goToStep(6)"
            id="step5NextBtn"
            disabled=""
          >
            <span>Continue</span>
            <span>â†’</span>
          </button>
        </div>
      </div>

      <!-- Step 6: Operating Schedule -->
      <div id="step6" class="game-panel hidden">
        <div class="panel-header">
          <h2 class="panel-title">â° Choose Your Schedule</h2>
          <p class="panel-description">When will your bakery be open?</p>
        </div>

        <div class="schedule-options">
          <div class="schedule-card" onclick="selectSchedule('morning')">
            <div class="schedule-time">ğŸŒ… Morning Only</div>
            <div class="schedule-hours">6:00 AM - 12:00 PM</div>
            <ul class="schedule-pros">
              <li>Catch breakfast crowd</li>
              <li>Fresh items highly valued</li>
              <li>Limited operating hours</li>
              <li>30-50 customers</li>
            </ul>
          </div>

          <div class="schedule-card" onclick="selectSchedule('afternoon')">
            <div class="schedule-time">â˜€ï¸ Afternoon Only</div>
            <div class="schedule-hours">12:00 PM - 6:00 PM</div>
            <ul class="schedule-pros">
              <li>Lunch and after-school crowd</li>
              <li>Mix of buyers</li>
              <li>Limited operating hours</li>
              <li>40-70 customers</li>
            </ul>
          </div>

          <div class="schedule-card" onclick="selectSchedule('allday')">
            <div class="schedule-time">ğŸŒ All Day</div>
            <div class="schedule-hours">6:00 AM - 6:00 PM</div>
            <ul class="schedule-pros">
              <li>Maximum exposure</li>
              <li>All customer segments</li>
              <li>Requires assistant (+$30/day)</li>
              <li>70-120 customers</li>
            </ul>
          </div>
        </div>

        <div class="education-note">
          <div class="education-note-icon">ğŸ’¡</div>
          <div>
            <strong>Timing Matters:</strong> Different schedules reach different
            customers. Longer hours mean more sales potential but higher costs.
            Balance revenue and expenses!
          </div>
        </div>

        <div class="action-buttons">
          <button class="btn btn-secondary" onclick="goToStep(5)">
            <span>â†</span>
            <span>Back</span>
          </button>
          <button
            class="btn btn-primary"
            onclick="startDay()"
            id="step6NextBtn"
            disabled=""
          >
            <span>ğŸ¬ Start Day!</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Day Results Modal -->
    <div class="modal" id="dayResultsModal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-icon" id="dayResultIcon">ğŸ‰</div>
          <h2 class="modal-title" id="dayResultTitle">Day 1 Complete!</h2>
          <p id="dayResultMessage" style="color: var(--text-secondary)"></p>
        </div>

        <div class="day-results-grid">
          <div class="result-card">
            <div class="result-label">Revenue</div>
            <div class="result-value positive" id="dayRevenue">$0.00</div>
          </div>
          <div class="result-card">
            <div class="result-label">Expenses</div>
            <div class="result-value" id="dayExpenses">$0.00</div>
          </div>
          <div class="result-card">
            <div class="result-label">Daily Profit</div>
            <div class="result-value" id="dayProfit">$0.00</div>
          </div>
          <div class="result-card">
            <div class="result-label">Items Sold</div>
            <div class="result-value" id="dayItemsSold">0</div>
          </div>
        </div>

        <div class="inventory-status">
          <div class="inventory-title">ğŸ“¦ Remaining Inventory</div>
          <div class="inventory-grid" id="remainingInventory">
            <!-- Inventory items will be added dynamically -->
          </div>
        </div>

        <div class="action-buttons">
          <button
            class="btn btn-secondary"
            onclick="endGame()"
            id="endGameBtn"
            style="display: none"
          >
            <span>ğŸ End Game</span>
          </button>
          <button class="btn btn-primary" onclick="nextDay()">
            <span>Next Day</span>
            <span>â†’</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Final Results Modal -->
    <div class="modal" id="finalResultsModal">
      <div class="modal-content">
        <div class="modal-header">
          <div class="modal-icon">ğŸ†</div>
          <h2 class="modal-title">Week Complete!</h2>
          <p style="color: var(--text-secondary)">
            Here's how your bakery performed over the week
          </p>
        </div>

        <div class="final-summary">
          <div class="summary-stats">
            <div class="summary-stat">
              <div class="summary-stat-label">Total Profit</div>
              <div class="summary-stat-value" id="finalProfit">$0.00</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-label">Items Sold</div>
              <div class="summary-stat-value" id="finalItemsSold">0</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-label">Avg Rating</div>
              <div class="summary-stat-value" id="finalRating">0.0â­</div>
            </div>
            <div class="summary-stat">
              <div class="summary-stat-label">Waste Rate</div>
              <div class="summary-stat-value" id="finalWaste">0%</div>
            </div>
          </div>
        </div>

        <div class="performance-section">
          <h3 class="performance-title">Performance Analysis</h3>
          <div class="performance-grid">
            <div class="performance-item">
              <span class="performance-label">Profitability</span>
              <div class="performance-bar">
                <div
                  class="performance-fill"
                  id="profitBar"
                  style="width: 0%"
                ></div>
              </div>
              <span class="performance-value" id="profitScore">0/100</span>
            </div>
            <div class="performance-item">
              <span class="performance-label">Efficiency</span>
              <div class="performance-bar">
                <div
                  class="performance-fill"
                  id="efficiencyBar"
                  style="width: 0%"
                ></div>
              </div>
              <span class="performance-value" id="efficiencyScore">0/100</span>
            </div>
            <div class="performance-item">
              <span class="performance-label">Planning</span>
              <div class="performance-bar">
                <div
                  class="performance-fill"
                  id="planningBar"
                  style="width: 0%"
                ></div>
              </div>
              <span class="performance-value" id="planningScore">0/100</span>
            </div>
          </div>
        </div>

        <div class="insights-section">
          <h3 class="performance-title">Key Insights</h3>
          <div id="insightsContainer">
            <!-- Insights will be added dynamically -->
          </div>
        </div>

        <div class="action-buttons">
          <button
            class="btn btn-secondary"
            onclick="window.location.href='games.html'"
          >
            <span>â† Back to Games</span>
          </button>
          <button class="btn btn-primary" onclick="location.reload()">
            <span>ğŸ”„ Play Again</span>
          </button>
        </div>
      </div>
    </div>

    <script src="bakery-game.js"></script>
  </body>
</html>
