{% extends "base.html" %}
{% load static %}
{% block title %}ุงุชุตู ุจูุง{% endblock title %}
{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/pages/contact.css' %}" />
{% endblock extra_css %}
{% block content %}
    <div class="contact-container">
      <div class="form-section">
        <h1>
          <span>๐ฌ</span>
          ุงุชุตู ุจูุง
          <span>๐ฌ</span>
        </h1>
        <p class="subtitle">ูุณุนุฏูุง ุฃู ูุณูุน ููู!</p>

        {% if messages %}
        <div class="messages">
          {% for message in messages %}
          <div class="success-message show">
            {{ message }}
          </div>
          {% endfor %}
        </div>
        {% endif %}

        <div class="success-message" id="successMessage">
          โ ุชู ุฅุฑุณุงู ุฑุณุงูุชู ุจูุฌุงุญ! ุณูุชูุงุตู ูุนู ูุฑูุจุงู.
        </div>

        <form id="contactForm" method="post">
          {% csrf_token %}
          <div class="form-group">
            <label for="name">ุงุณูู</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              placeholder="ุฃุฏุฎู ุงุณูู ุงููุงูู"
            />
          </div>

          <div class="form-group">
            <label for="email">ุจุฑูุฏู ุงูุฅููุชุฑููู</label>
            <input
              type="email"
              id="email"
              name="email"
              required
              placeholder="example@email.com"
            />
          </div>

          <div class="form-group">
            <label for="subject">ุงูููุถูุน</label>
            <input
              type="text"
              id="subject"
              name="subject"
              required
              placeholder="ููุถูุน ุฑุณุงูุชู"
            />
          </div>

          <div class="form-group">
            <label for="message">ุฑุณุงูุชู</label>
            <textarea
              id="message"
              name="message"
              required
              placeholder="ุงูุชุจ ุฑุณุงูุชู ููุง..."
            ></textarea>
          </div>

          <button type="submit" class="submit-btn" id="submitBtn">
            <span class="btn-text">ุฅุฑุณุงู ุงูุฑุณุงูุฉ</span>
            <span class="spinner"></span>
          </button>
        </form>

        <div class="contact-info">
          <h3>ูุนูููุงุช ุงูุงุชุตุงู</h3>
          <div class="contact-detail">
            <span class="contact-detail-icon">๐</span>
            <span>{{ site_settings.phone }}</span>
          </div>
          <div class="contact-detail">
            <span class="contact-detail-icon">โ๏ธ</span>
            <span>{{ site_settings.email }}</span>
          </div>
          <div class="contact-detail">
            <span class="contact-detail-icon">๐</span>
            <span>{{ site_settings.address_ar|default:site_settings.address }}</span>
          </div>
        </div>
      </div>

      <div id="faqs" class="faq-section">
        <h2 class="faq-title">
          <span>โ</span>
          ุงูุฃุณุฆูุฉ ุงูุดุงุฆุนุฉ
        </h2>

        {% if faqs %}
          {% for faq in faqs %}
          <div class="faq-item">
            <div class="faq-question">{{ faq.question_ar }}</div>
            <div class="faq-answer">
              {{ faq.answer_ar }}
            </div>
          </div>
          {% endfor %}
        {% else %}
          <div class="faq-item">
            <div class="faq-question">ููู ูููููู ุฅูุดุงุก ุญุณุงุจุ</div>
            <div class="faq-answer">
              ููููู ุฅูุดุงุก ุญุณุงุจ ูู ุฎูุงู ุงูููุฑ ุนูู ุฒุฑ "ุงูุชุณุฌูู" ูู ุตูุญุชูุง ุงูุฑุฆูุณูุฉ
              ูุงุชุจุงุน ุนูููุฉ ุงูุชุณุฌูู ุงูุจุณูุทุฉ.
            </div>
          </div>

          <div class="faq-item">
            <div class="faq-question">ูู {{ site_settings.site_name_ar }} ูุฌุงููุ</div>
            <div class="faq-answer">
              ูุนูุ ููุฏู {{ site_settings.site_name_ar }} ููุฒุงุช ุฃุณุงุณูุฉ ูุฌุงููุฉ. ูุฏููุง ุฃูุถุงู ุฎูุงุฑุงุช
              ูููุฒุฉ ููุญุตูู ุนูู ูุญุชูู ูููุฒุงุช ุฅุถุงููุฉ.
            </div>
          </div>

          <div class="faq-item">
            <div class="faq-question">
              ูุง ูู ุงููุฆุงุช ุงูุนูุฑูุฉ ุงูููุงุณุจุฉ ูู {{ site_settings.site_name_ar }}ุ
            </div>
            <div class="faq-answer">
              ุชู ุชุตููู {{ site_settings.site_name_ar }} ููุฃุทูุงู ุงูุฐูู ุชุชุฑุงูุญ ุฃุนูุงุฑูู ุจูู 5-13 ุณูุฉุ
              ูุน ูุญุชูู ูุตูู ุฎุตูุตุงู ููุฎุชูู ุงููุฆุงุช ุงูุนูุฑูุฉ.
            </div>
          </div>

          <div class="faq-item">
            <div class="faq-question">
              ููู ูููููู ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจูุ
            </div>
            <div class="faq-answer">
              ููููู ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุงูุฎุงุตุฉ ุจู ูู ุฎูุงู ุงูููุฑ ุนูู ุฑุงุจุท "ูู
              ูุณูุช ูููุฉ ุงููุฑูุฑุ" ูู ุตูุญุฉ ุชุณุฌูู ุงูุฏุฎูู.
            </div>
          </div>
        {% endif %}
      </div>
    </div>
{% endblock content %}

{% block extra_js %}
    <script>
      // FAQ Accordion functionality
      const faqItems = document.querySelectorAll(".faq-item");

      faqItems.forEach((item) => {
        const question = item.querySelector(".faq-question");

        question.addEventListener("click", () => {
          // Close other items
          faqItems.forEach((otherItem) => {
            if (otherItem !== item) {
              otherItem.classList.remove("active");
            }
          });

          // Toggle current item
          item.classList.toggle("active");
        });
      });

      // Form submission with Django
      const contactForm = document.getElementById("contactForm");
      const submitBtn = document.getElementById("submitBtn");

      if (contactForm) {
        contactForm.addEventListener("submit", (e) => {
          // Add loading state
          submitBtn.classList.add("loading");
          submitBtn.disabled = true;
        });
      }

      // Add input animation
      const inputs = document.querySelectorAll("input, textarea");
      inputs.forEach((input) => {
        input.addEventListener("focus", () => {
          input.parentElement.style.transform = "scale(1.02)";
          input.parentElement.style.transition = "transform 0.3s";
        });

        input.addEventListener("blur", () => {
          input.parentElement.style.transform = "scale(1)";
        });
      });
    </script>
{% endblock extra_js %}